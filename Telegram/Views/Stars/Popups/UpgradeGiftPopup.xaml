<controls:ContentPopup x:Class="Telegram.Views.Stars.Popups.UpgradeGiftPopup"
                       xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                       xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                       xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                       xmlns:controls="using:Telegram.Controls"
                       mc:Ignorable="d"
                       Padding="24,0,24,24"
                       IsDismissButtonVisible="True">

    <controls:ContentPopup.Resources>
        <Style x:Key="Yolo"
               TargetType="controls:ProfileHeaderPattern">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="controls:ProfileHeaderPattern">
                        <Grid Width="1000"
                              Height="320">
                            <Border x:Name="LayoutRoot" />
                            <controls:AnimatedImage x:Name="Animated"
                                                    FrameSize="36,36"
                                                    DecodeFrameType="Logical"
                                                    AutoPlay="False"
                                                    IsViewportAware="False"
                                                    ReplacementColor="{TemplateBinding Foreground}"
                                                    Source="{TemplateBinding Source}"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Width="36"
                                                    Height="36"
                                                    Opacity="0"
                                                    IsTabStop="False" />
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </controls:ContentPopup.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid x:Name="HeaderRoot"
              BackgroundSizing="OuterBorderEdge"
              BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
              BorderThickness="0,1"
              Padding="0,16,0,16"
              Margin="-24,0">
            <Grid.BackgroundTransition>
                <BrushTransition />
            </Grid.BackgroundTransition>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Grid Width="140"
                  Height="140"
                  Margin="12,0,12,-12">

                <Border x:Name="HeaderGlow"
                        Width="1000"
                        Height="320"
                        Margin="-430,-22,-430,-156"
                        RenderTransformOrigin="0.5,0.0">
                    <Border.RenderTransform>
                        <ScaleTransform ScaleX="0.85"
                                        ScaleY="0.85" />
                    </Border.RenderTransform>
                </Border>

                <controls:ProfileHeaderPattern x:Name="Pattern"
                                               Margin="-430,-22,-430,-156"
                                               Width="1000"
                                               Height="320"
                                               Opacity="0"
                                               Style="{StaticResource Yolo}" />

                <controls:AnimatedImage x:Name="Animated1"
                                        Opacity="0.5"
                                        Ready="OnReady"
                                        IsCachingEnabled="False"
                                        Width="140"
                                        Height="140"
                                        FrameSize="140,140"
                                        DecodeFrameType="Logical"
                                        VerticalAlignment="Bottom"
                                        RenderTransformOrigin="0.5,0.0">
                    <controls:AnimatedImage.RenderTransform>
                        <ScaleTransform ScaleX="0.85"
                                        ScaleY="0.85" />
                    </controls:AnimatedImage.RenderTransform>
                </controls:AnimatedImage>
                <controls:AnimatedImage x:Name="Animated2"
                                        Opacity="0.5"
                                        Ready="OnReady"
                                        IsCachingEnabled="False"
                                        Width="140"
                                        Height="140"
                                        FrameSize="140,140"
                                        DecodeFrameType="Logical"
                                        VerticalAlignment="Bottom"
                                        RenderTransformOrigin="0.5,0.0">
                    <controls:AnimatedImage.RenderTransform>
                        <ScaleTransform ScaleX="0.85"
                                        ScaleY="0.85" />
                    </controls:AnimatedImage.RenderTransform>
                </controls:AnimatedImage>
            </Grid>

            <Border VerticalAlignment="Bottom"
                    HorizontalAlignment="Center"
                    Grid.Row="1">
                <Grid x:Name="LabelTitle">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <controls:CustomEmojiIcon x:Name="BotVerified"
                                              VerticalAlignment="Bottom"
                                              Margin="0,0,4,4" />

                    <TextBlock x:Name="Title"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               TextAlignment="Center"
                               IsTextSelectionEnabled="True"
                               Style="{StaticResource SubtitleTextBlockStyle}"
                               FontFamily="{ThemeResource EmojiThemeFontFamily}"
                               Grid.Column="1" />

                    <controls:IdentityIcon x:Name="Identity"
                                           VerticalAlignment="Bottom"
                                           Margin="4,0,0,4"
                                           Grid.Column="2" />
                </Grid>
            </Border>
            <Border VerticalAlignment="Top"
                    Margin="0,-2,0,0"
                    Grid.Row="2">
                <TextBlock x:Name="Subtitle"
                           Style="{StaticResource BodyTextBlockStyle}"
                           Foreground="{ThemeResource PageHeaderDisabledBrush}"
                           TextAlignment="Center" />
            </Border>
        </Grid>

        <Grid x:Name="PurchasePanel"
              VerticalAlignment="Bottom"
              HorizontalAlignment="Stretch"
              Margin="0,8,0,0"
              Grid.Row="1">
            <controls:BadgeButton x:Name="PurchaseCommand"
                                  Content="{CustomResource OK}"
                                  Click="Purchase_Click"
                                  Style="{StaticResource AccentButtonStyle}"
                                  HorizontalAlignment="Stretch"
                                  HorizontalContentAlignment="Center"
                                  FontWeight="SemiBold"
                                  Padding="16,3,16,5"
                                  CornerRadius="4"
                                  BorderThickness="1"
                                  Margin="0"
                                  Height="32" />
        </Grid>
    </Grid>
</controls:ContentPopup>
